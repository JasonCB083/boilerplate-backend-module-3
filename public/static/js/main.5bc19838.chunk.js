(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t){},27:function(e,t,n){e.exports=n(55)},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),l=n.n(i),o=n(58),c=n(2),u=n(3),s=n(5),m=n(4),p=n(6),h=n(60),g=n(59),d=n(56),f=n(14),b=n.n(f),E=new(function(){function e(){Object(c.a)(this,e),this.auth=b.a.create({baseURL:"https://playpix.herokuapp.com/",withCredentials:!0})}return Object(u.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password,a=e.email,r=e.city;return this.auth.post("/auth/signup",{username:t,password:n,email:a,city:r}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),v=r.a.createContext(),y=v.Consumer,O=v.Provider,j=function(e){return function(t){function n(){return Object(c.a)(this,n),Object(s.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(p.a)(n,t),Object(u.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(y,null,function(n){return r.a.createElement(e,Object.assign({login:n.login,signup:n.signup,user:n.user,logout:n.logout,isLoggedin:n.isLoggedin},t.props))})}}]),n}(a.Component)},C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password;E.signup({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;n.setState({message:t.statusMessage})})},n.login=function(e){var t=e.username,a=e.password;E.login({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(){})},n.logout=function(){E.logout().then(function(){n.setState({isLoggedin:!1,user:null})}).catch(function(){})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then(function(t){e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(O,{value:{isLoggedin:n,user:a,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(a.Component),w=(j(function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedin;return r.a.createElement("div",null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"username: ",t.username),r.a.createElement("button",{onClick:n},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{to:"/login"},"Login"),r.a.createElement(d.a,{to:"/signup"},"Signup"),r.a.createElement(d.a,{to:"/logout"},"logout")))}}]),t}(a.Component)),j(function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome ",this.props.user.username))}}]),t}(a.Component))),k=n(13),L=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:"",city:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password,i=t.email,l=t.city;n.props.signup({username:a,password:r,email:i,city:l})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(k.a)({},a,r))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.email,i=e.city;return r.a.createElement("div",{className:"signup"},r.a.createElement("h1",{className:"signup-title"},"PlayPix"),r.a.createElement("form",{className:"signup-form",onSubmit:this.handleFormSubmit},r.a.createElement("input",{placeholder:"Username",className:"signup-input",type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"Password",className:"signup-input",type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"Email",className:"signup-input",type:"text",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"City",className:"signup-input",type:"text",name:"city",value:i,onChange:this.handleChange}),r.a.createElement("input",{className:"btn",type:"submit",value:"Signup"})),r.a.createElement("p",null,"Have a PlayPix account?",r.a.createElement(d.a,{className:"signup-link",to:"/login"}," Login")))}}]),t}(a.Component)),S=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(k.a)({},a,r))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",{className:"login"},r.a.createElement("span",{className:"circle"}),r.a.createElement("h1",{className:"login-title"},"PlayPix"),r.a.createElement("img",{className:"login-image",src:"/images/Ellipse.png",alt:""}),r.a.createElement("form",{className:"login-form",onSubmit:this.handleFormSubmit},r.a.createElement("input",{className:"login-input",placeholder:"User please",type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("input",{className:"login-input",placeholder:"Password",type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{className:"btn",type:"submit",value:"Login"})),r.a.createElement("p",null,"Create an amazing account?",r.a.createElement(d.a,{className:"login-link",to:"/signup"}," Signup")))}}]),t}(a.Component));var N=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"WTF"))},x=n(17),P=n(57);var D=j(function(e){var t=e.component,n=e.isLoggedin,a=Object(x.a)(e,["component","isLoggedin"]);return r.a.createElement(g.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(P.a,{to:"/login"})}}))});var F=j(function(e){var t=e.component,n=e.isLoggedin,a=Object(x.a)(e,["component","isLoggedin"]);return r.a.createElement(g.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(P.a,{to:"/preference"}):r.a.createElement(t,e)}}))}),U=j(function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout);e.isLoggedin;return r.a.createElement("div",null,r.a.createElement("h1",null,"I am Preferences"),r.a.createElement(d.a,{to:"/feed"},r.a.createElement("button",null,"feed")),r.a.createElement("button",{onClick:t},"log out"))}}]),t}(a.Component));var I=function(){return r.a.createElement("div",{className:"prelogin"},r.a.createElement("h1",{className:"prelogin-title"},"PlayPix"),r.a.createElement("p",{className:"prelogin-subtitle"},"The best place to follow your passions and spark long lasting relationships!"),r.a.createElement("div",{className:"prelogin-buttons"},r.a.createElement(d.a,{to:"/login"},r.a.createElement("button",{className:"btn secondary-red"},"login")),r.a.createElement(d.a,{to:"/signup"},r.a.createElement("button",{className:"btn secondary"},"signup"))))},A=j(function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout);e.isLoggedin;return r.a.createElement("div",null,r.a.createElement("h1",null,"I am feed"),r.a.createElement("button",{onClick:t},"log out"))}}]),t}(a.Component)),R=new(function(){function e(){Object(c.a)(this,e),this.profile=b.a.create({baseURL:"https://playpix.herokuapp.com/",withCredentials:!0})}return Object(u.a)(e,[{key:"getAll",value:function(){return this.profile.get("/").then(function(e){return e.data})}},{key:"getOne",value:function(e){return this.profile.get("/".concat(e)).then(function(e){return e.data})}},{key:"editOne",value:function(e,t,n,a,r){return this.profile.put("/edit",{username:e,email:t,city:n,image:a,id:r}).then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.profile.post("/edit",e).then(function(e){return e.data})}}]),e}()),B=n(26),M=n.n(B),J=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={profile:[]},n.handleFormSubmit=function(e){e.preventDefault(),console.log("BUDDIE ID -> ",n.props.match.params),console.log("USER ID -> ",n.props.user._id);var t=n.props.user._id,a=n.props.match.params.id;M.a.addBuddie(t,a).then(function(e){return e})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("PROPS",this.props);var t=this.props.match.params.id;R.getOne(t).then(function(t){console.log(t),e.setState({profile:t})})}},{key:"render",value:function(){var e=this.state.profile;return console.log("USER ID",e),r.a.createElement("div",null,r.a.createElement("h1",null,e.username),r.a.createElement("p",null,e.sports),r.a.createElement("p",null,e.city))}}]),t}(a.Component)),T=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",city:"",image:""},n.handleFormSubmit=function(e){console.log("LOG",n.state,n.props.user),e.preventDefault();var t=n.state,a=t.username,r=t.email,i=t.city,l=t.image;n.props.match.params.id;R.editOne(a,r,i,l),n.setState({username:"",email:"",city:"",image:""})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(k.a)({},a,r))},n.fileOnchange=function(e){var t=e.target.files[0],a=new FormData;a.append("photo",t),R.imageUpload(a).then(function(e){n.setState({image:e,disable:!1})}).catch(function(e){return console.log(e)})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,{to:"/feed"},r.a.createElement("button",null,"feed")),r.a.createElement(d.a,{to:"/preference"},r.a.createElement("button",null,"Preference")),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"User Name:"),r.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.username,onChange:this.handleChange}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",placeholder:"email",value:this.email,onChange:this.handleChange}),r.a.createElement("label",null,"City:"),r.a.createElement("input",{type:"text",name:"city",placeholder:"city",value:this.city,onChange:this.handleChange}),r.a.createElement("label",null,"Picture:"),r.a.createElement("input",{type:"file",onChange:this.fileOnchange}),r.a.createElement("input",{type:"submit",value:"Send"})))}}]),t}(a.Component)),W=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(C,null,r.a.createElement(h.a,null,r.a.createElement(F,{exact:!0,path:"/",component:I}),r.a.createElement(F,{exact:!0,path:"/signup",component:L}),r.a.createElement(F,{exact:!0,path:"/login",component:S}),r.a.createElement(D,{exact:!0,path:"/private",component:w}),r.a.createElement(D,{exact:!0,path:"/Preference",component:U}),r.a.createElement(D,{exact:!0,path:"/Feed",component:A}),r.a.createElement(D,{exact:!0,path:"/userProfile",component:J}),r.a.createElement(D,{exact:!0,path:"/EditProfile",component:T}),r.a.createElement(g.a,{exact:!0,path:"/*",component:N})))}}]),t}(a.Component);n(54);l.a.render(r.a.createElement(o.a,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.5bc19838.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(61)},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),l=n.n(i),o=n(64),c=n(3),s=n(4),u=n(6),m=n(5),p=n(7),h=n(66),d=n(65),g=n(62),f=n(17),b=n.n(f),v=new(function(){function e(){Object(c.a)(this,e),this.auth=b.a.create({baseURL:"https://playpix.herokuapp.com/",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password,a=e.email,r=e.city;return this.auth.post("/auth/signup",{username:t,password:n,email:a,city:r}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),E=r.a.createContext(),y=E.Consumer,O=E.Provider,j=function(e){return function(t){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(p.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(y,null,function(n){return r.a.createElement(e,Object.assign({login:n.login,signup:n.signup,user:n.user,logout:n.logout,isLoggedin:n.isLoggedin},t.props))})}}]),n}(a.Component)},C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password;v.signup({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;n.setState({message:t.statusMessage})})},n.login=function(e){var t=e.username,a=e.password;v.login({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(){})},n.logout=function(){v.logout().then(function(){n.setState({isLoggedin:!1,user:null})}).catch(function(){})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then(function(t){e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(O,{value:{isLoggedin:n,user:a,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(a.Component),w=j(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout);e.isLoggedin;return r.a.createElement("div",{className:"navbar"},r.a.createElement(g.a,{className:"navbar-link",to:"/EditProfile"}," ",r.a.createElement("button",null,"Profile")," "),r.a.createElement(g.a,{className:"navbar-link",to:"/feed"}," ",r.a.createElement("button",null,"Feed")," "),r.a.createElement(g.a,{className:"navbar-link",to:"/buddies"}," ",r.a.createElement("button",null,"Buddies")," "),r.a.createElement("button",{className:"navbar-link",onClick:t},"log out"))}}]),t}(a.Component)),k=j(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome ",this.props.user.username))}}]),t}(a.Component)),x=n(15),S=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:"",city:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password,i=t.email,l=t.city;n.props.signup({username:a,password:r,email:i,city:l})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(x.a)({},a,r))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.email,i=e.city;return r.a.createElement("div",{className:"signup"},r.a.createElement("h1",{className:"signup-title"},"playpix"),r.a.createElement("form",{className:"signup-form",onSubmit:this.handleFormSubmit},r.a.createElement("input",{placeholder:"Username",className:"signup-input",type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"Password",className:"signup-input",type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"Email",className:"signup-input",type:"text",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"City",className:"signup-input",type:"text",name:"city",value:i,onChange:this.handleChange}),r.a.createElement("input",{className:"btn",type:"submit",value:"Signup"})),r.a.createElement("p",null,"Have a PlayPix account?",r.a.createElement(g.a,{className:"signup-link",to:"/login"}," Login")))}}]),t}(a.Component)),N=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(x.a)({},a,r))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",{className:"login"},r.a.createElement("span",{className:"circle"}),r.a.createElement("h1",{className:"login-title"},"playpix"),r.a.createElement("img",{className:"login-image",src:"/images/Ellipse.png",alt:""}),r.a.createElement("form",{className:"login-form",onSubmit:this.handleFormSubmit},r.a.createElement("input",{className:"login-input",placeholder:"User please",type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("input",{className:"login-input",placeholder:"Password",type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{className:"btn",type:"submit",value:"Login"})),r.a.createElement("p",null,"Create an amazing account?",r.a.createElement(g.a,{className:"login-link",to:"/signup"}," Signup")))}}]),t}(a.Component));var L=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"WTF"))},I=n(19),P=n(63);var D=j(function(e){var t=e.component,n=e.isLoggedin,a=Object(I.a)(e,["component","isLoggedin"]);return r.a.createElement(d.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(P.a,{to:"/login"})}}))});var U=j(function(e){var t=e.component,n=e.isLoggedin,a=Object(I.a)(e,["component","isLoggedin"]);return r.a.createElement(d.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(P.a,{to:"/preference"}):r.a.createElement(t,e)}}))}),R=j(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout);e.isLoggedin;return r.a.createElement("div",null,r.a.createElement("h1",null,"I am Preferences"),r.a.createElement(g.a,{to:"/feed"},r.a.createElement("button",null,"feed")),r.a.createElement("button",{onClick:t},"log out"))}}]),t}(a.Component));var A=function(){return r.a.createElement("div",{className:"prelogin"},r.a.createElement("h1",{className:"prelogin-title"},"playpix"),r.a.createElement("p",{className:"prelogin-subtitle"},"The best place to follow your passions and spark long lasting relationships!"),r.a.createElement("div",{className:"prelogin-buttons"},r.a.createElement(g.a,{to:"/login"},r.a.createElement("button",{className:"btn secondary-red"},"login")),r.a.createElement(g.a,{to:"/signup"},r.a.createElement("button",{className:"btn secondary"},"signup"))))},F=new(function(){function e(){Object(c.a)(this,e),this.profile=b.a.create({baseURL:"https://playpix.herokuapp.com//user",withCredentials:!0})}return Object(s.a)(e,[{key:"getAll",value:function(){return this.profile.get("/").then(function(e){return e.data})}},{key:"getOne",value:function(e){return this.profile.get("/".concat(e)).then(function(e){return e.data})}},{key:"editOne",value:function(e,t,n,a,r){return this.profile.put("/edit",{username:e,email:t,city:n,image:a,id:r}).then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.profile.post("/edit",e).then(function(e){return e.data})}}]),e}()),B=(a.Component,new(function(){function e(){Object(c.a)(this,e),this.buddie=b.a.create({baseURL:"https://playpix.herokuapp.com//buddies",withCredentials:!0})}return Object(s.a)(e,[{key:"getBuddies",value:function(){return this.buddie.get("/").then(function(e){return e.data})}},{key:"addBuddie",value:function(e,t){return console.log("SERVICE ",{userId:e,buddieId:t}),this.buddie.post("/",{userId:e,buddieId:t}).then(function(e){return e.data})}},{key:"deleteBuddie",value:function(e){return this.buddie.delete("/".concat(e)).then(function(e){return e.data})}}]),e}())),_=n(30),M=n.n(_),z=n(22),T={background:"whitesmoke",borderRadius:3,width:"250px",height:"250px",cursor:"pointer",userSelect:"none",position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",top:0},J=function(e){var t=e.zIndex,n=void 0===t?0:t,a=e.children;return r.a.createElement("div",{style:Object(z.a)({},T,{zIndex:n})},a)},H={color:"white",backgroundColor:"rgba(241,55,60,1)",borderRadius:"25px",padding:"11px 26px",fontSize:"20px",width:"150px",borderStyle:"none",boxShadow:"1px 2px 6px 2px rgba(0, 0, 0, 0.164)",textTransform:"uppercase"},W=function(e){var t=e.children,n=e.onClick;return r.a.createElement("button",{onClick:n,style:Object(z.a)({},H)},t)},V={height:"100%",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minHeight:"100vh",fontFamily:"sans-serif",overflow:"hidden"},q={position:"relative",width:"250px",height:"250px"},G={display:"flex",justifyContent:"space-between",marginTop:12},K=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={profiles:[],count:0},n.likeUser=function(){var e=n.state,t=e.profiles,a=e.count;if(a<t.length){var r=t[a]._id,i=n.props.user._id;B.addBuddie(i,r).then(function(e){return e}),n.setState({count:n.state.count+1})}},n.handleSwipe=function(e){"right"===e?n.likeUser():console.log("reject")},n.remove=function(){return n.setState(function(e){var t=e.profiles;return{profiles:t.slice(1,t.length)}})},n.handleReject=function(){console.log("REJECT"),console.log("this.state.profiles",n.state.profiles)},n.handleAccept=function(){n.likeUser()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;F.getOne(t).then(function(t){F.getAll().then(function(n){t.buddies.forEach(function(e){n.forEach(function(a,r){a._id!==e&&a._id!==t._id||n.splice(r,1)})}),e.setState({profiles:n})})})}},{key:"render",value:function(){var e=this,t=this.state.profiles;return console.log(this.state),r.a.createElement("div",{style:V},r.a.createElement(w,null),r.a.createElement("div",{style:q},t.length>0&&r.a.createElement("div",{style:q},r.a.createElement(M.a,{buttons:function(t){var n=t.right,a=t.left;return r.a.createElement("div",{style:G},r.a.createElement(W,{buttonClass:"btn-red",onClick:function(){e.handleReject(),a()}},"Reject"),r.a.createElement(W,{buttonClass:"btn",onClick:function(){e.handleAccept(),n()}},"buddie time"))},onSwipe:function(t){e.handleSwipe(t)},onAfterSwipe:this.remove},r.a.createElement(J,null,r.a.createElement("h3",null,t[0].username),r.a.createElement("img",{className:"user-image",src:t[0].image}))),t.length>1&&r.a.createElement(J,{zIndex:-1},r.a.createElement("h3",null,t[1].username),r.a.createElement("img",{className:"user-image",src:t[1].image}))),t.length<1&&r.a.createElement("p",null,"No more profiles")))}}]),t}(a.Component)),Q=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={profile:[]},n.handleFormSubmit=function(e){e.preventDefault(),console.log("BUDDIE ID -> ",n.props.match.params),console.log("USER ID -> ",n.props.user._id);var t=n.props.user._id,a=n.props.match.params.id;B.addBuddie(t,a).then(function(e){return e})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("PROPS",this.props);var t=this.props.match.params.id;F.getOne(t).then(function(t){console.log(t),e.setState({profile:t})})}},{key:"render",value:function(){var e=this.state.profile;return console.log("USER ID",e),r.a.createElement("div",null,r.a.createElement("h1",null,e.username),r.a.createElement("p",null,e.sports),r.a.createElement("p",null,e.city))}}]),t}(a.Component)),X=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",city:"",image:"",sport:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.email,i=t.city,l=t.image,o=t.sport;n.props.match.params.id;F.editOne(a,r,i,l,o),n.setState({username:"",email:"",city:"",image:"",sport:""})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(x.a)({},a,r))},n.fileOnchange=function(e){var t=e.target.files[0],a=new FormData;a.append("photo",t),console.log(a),F.imageUpload(a).then(function(e){n.setState({image:e,disable:!1})}).catch(function(e){return console.log(e)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.a,{to:"/feed"},r.a.createElement("button",null,"feed")),r.a.createElement(g.a,{to:"/preference"},r.a.createElement("button",null,"Preference")),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"User Name:"),r.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.username,onChange:this.handleChange}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",placeholder:"email",value:this.email,onChange:this.handleChange}),r.a.createElement("label",null,"City:"),r.a.createElement("input",{type:"text",name:"city",placeholder:"city",value:this.city,onChange:this.handleChange}),r.a.createElement("label",null,"Sport:"),r.a.createElement("input",{type:"text",name:"sport",placeholder:"sport",value:this.sport,onChange:this.handleChange}),r.a.createElement("label",null,"Picture:"),r.a.createElement("input",{type:"file",onChange:this.fileOnchange}),r.a.createElement("input",{type:"submit",value:"Send"})))}}]),t}(a.Component)),Y=j(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={buddies:[]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.getBuddies().then(function(t){e.setState({buddies:t})})}},{key:"render",value:function(){var e=this.state.buddies;return r.a.createElement("div",null,r.a.createElement("h1",null,"buddies"),r.a.createElement(g.a,{to:"/feed"},r.a.createElement("button",null,"feed")),r.a.createElement(g.a,{to:"/profile"},r.a.createElement("button",null,"My Profile")),e.map(function(e,t){return r.a.createElement("h4",{key:e._id},e.username)}))}}]),t}(a.Component)),Z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(C,null,r.a.createElement(h.a,null,r.a.createElement(U,{exact:!0,path:"/",component:A}),r.a.createElement(U,{exact:!0,path:"/signup",component:S}),r.a.createElement(U,{exact:!0,path:"/login",component:N}),r.a.createElement(D,{exact:!0,path:"/private",component:k}),r.a.createElement(D,{exact:!0,path:"/Preference",component:R}),r.a.createElement(D,{exact:!0,path:"/feed",component:K}),r.a.createElement(D,{exact:!0,path:"/buddies",component:Y}),r.a.createElement(D,{exact:!0,path:"/userProfile",component:Q}),r.a.createElement(D,{exact:!0,path:"/EditProfile",component:X}),r.a.createElement(d.a,{exact:!0,path:"/*",component:L})))}}]),t}(a.Component);n(60);l.a.render(r.a.createElement(o.a,null,r.a.createElement(Z,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.1665b6dc.chunk.js.map